<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>For My Enchantress</title>
  <link href="https://fonts.googleapis.com/css2?family=Great+Vibes&display=swap" rel="stylesheet">
  <style>
    :root {
      --main-color: #7f5af0;
      --bg1: #00ffff; /* Aqua */
      --bg2: #0000ff; /* Blue */
    }

    html, body {
      margin: 0;
      padding: 0;
      font-family: 'Great Vibes', cursive;
      animation: dreamShift 30s infinite alternate ease-in-out;
      min-height: 100vh;
      display: flex;
      align-items: center;
      justify-content: center;
      overflow: hidden;
      background: linear-gradient(120deg, var(--bg1), var(--bg2)); /* Fixed background gradient */
      background-attachment: fixed; /* Ensures the background stays in place */
    }

    .container {
      text-align: center;
      background: rgba(255, 255, 255, 0.1);
      padding: 5vw;
      border-radius: 20px;
      box-shadow: 0 15px 40px rgba(0, 0, 0, 0.2);
      max-width: 90vw;
      width: 100%;
      max-height: 95vh;
      overflow: auto;
      position: relative;
      color: white;
      transition: opacity 1.5s ease-in-out;
      backdrop-filter: blur(10px);
      
      background-size: cover;
      background-position: center;
      background-repeat: no-repeat;
    }

    /* Profile inside the unlocked card */
    .container .card-profile {
      position: absolute;
      top: 18px;
      right: 18px;
      width: 96px;
      height: 96px;
      border-radius: 50%;
      background-image: url('profile1.jpeg');
      background-size: cover;
      background-position: center;
      border: 3px solid rgba(255,255,255,0.9);
      box-shadow: 0 8px 24px rgba(0,0,0,0.35);
      transition: width .35s ease, height .35s ease, transform .35s ease, top .35s ease, right .35s ease, opacity .35s ease;
      z-index: 20;
    }

    /* Shrink the card-profile when the letter is revealed */
    .container.letter-open .card-profile {
      width: 56px;
      height: 56px;
      top: 12px;
      right: 12px;
      transform: translateZ(0) scale(0.98);
      opacity: 0.98;
    }

    /* Make profile smaller on narrow screens */
    @media (max-width: 700px) {
      .container .card-profile { width: 72px; height: 72px; top: 12px; right: 12px; }
      .container.letter-open .card-profile { width: 48px; height: 48px; }
    }

    h1 {
      color: #fff;
      font-size: 7vw;
      text-align: left;
    }

    .message {
      font-size: 5vw;
      margin: 20px 0;
    }

    button {
      background-color: black;
      color: white;
      padding: 2vw 5vw;
      border: 2px solid white;
      border-radius: 50px;
      font-size: 4vw;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(127, 90, 240, 0.5);
      transition: all 0.3s ease;
    }

      /* Make the main 'Queen' button match the Unlock button styles */
      #mainButton {
        background: linear-gradient(90deg, var(--main-color), #5a3df0);
        border: none;
        color: #fff;
        padding: 12px 28px;
        border-radius: 14px;
        font-size: 18px;
        font-weight: 600;
        box-shadow: 0 10px 30px rgba(90,58,240,0.18);
        cursor: pointer;
        transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
      }

      #mainButton:hover { transform: translateY(-3px); }
      #mainButton:active { transform: translateY(0); }
      #mainButton:focus { outline: none; box-shadow: 0 0 0 6px rgba(127,90,240,0.08); }
    button:hover {
      transform: scale(1.1);
      background-color: #333;
    }

    .letter {
      white-space: pre-line;
      text-align: left;
      margin-top: 30px;
      font-size: 5vw;
      max-height: 300px;
      overflow-y: auto;
      line-height: 1.5em;
      display: none;
    }

    .signature {
      font-size: 3.5vw;
      color: #ffeaff;
      opacity: 0;
      transition: opacity 2s ease-in;
    }

    .surprise {
      margin-top: 20px;
      background-color: black;
      color: white;
      padding: 2vw 4vw;
      border: 2px solid white;
      border-radius: 50px;
      font-size: 4vw;
      cursor: pointer;
      box-shadow: 0 4px 15px rgba(127, 90, 240, 0.4);
      display: none;
    }

    #finalMessage {
      display: none;
      justify-content: center;
      align-items: center;
      flex-direction: column;
      text-align: center;
      position: fixed;
      top: 0; left: 0; width: 100%; height: 100%;
      background-color: #0e0b1e;
      color: #e0b0ff;
      font-size: 5.5vw;
      padding: 6px;
      animation: fadeInFinal 3s ease forwards;
      z-index: 9999;
      word-wrap: break-word;
      overflow-wrap: break-word;
    }

    #finalMessage p {
      opacity: 0;
      margin: 5px;
      width: 100%;
      animation: riseUp 3s ease-in-out forwards;
      text-align: center;
    }

    #finalMessage p:nth-child(1) { animation-delay: 1s; }
    #finalMessage p:nth-child(2) { animation-delay: 5s; }
    #finalMessage p:nth-child(3) { animation-delay: 9s; }

    @keyframes fadeInFinal {
      from { opacity: 0; }
      to { opacity: 1; }
    }

    @keyframes riseUp {
      0% { opacity: 0; transform: translateY(30px); }
      100% { opacity: 1; transform: translateY(0); }
    }

    /* DOB screen profile image */
    #dobScreen .profile {
      width: 120px;
      height: 120px;
      border-radius: 50%;
      background-size: cover;
      background-position: center;
      border: 3px solid rgba(255,255,255,0.85);
      display: block;
      margin: 0 auto 18px auto;
      box-shadow: 0 6px 18px rgba(0,0,0,0.35);
      background-image: url('profile1.jpeg');
    }
    #dobScreen {
      transform: translateY(-25vh); /* lift contents slightly upward */
      justify-content: center;}

  </style>
  <style>
    /* Custom dropdown component styles */
    .custom-select {
      position: relative;
      display: inline-block;
      width: 100%;
      max-width: 260px;
      text-align: left;
      font-family: inherit;
      color: white;
    }

    .custom-select__trigger {
      display: flex;
      align-items: center;
      justify-content: space-between;
      background: rgba(255,255,255,0.04);
      border: 1px solid rgba(255,255,255,0.12);
      padding: 12px 14px;
      border-radius: 12px;
      cursor: pointer;
      box-shadow: 0 8px 18px rgba(0,0,0,0.18);
      transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease;
    }

    .custom-select__trigger:hover { transform: translateY(-3px); border-color: rgba(255,255,255,0.22); }

    .custom-select__value { overflow: hidden; text-overflow: ellipsis; white-space: nowrap; color: #fff; }

    .custom-select__caret { margin-left: 12px; width: 12px; height: 12px; opacity: 0.95; transform: rotate(0deg); transition: transform .2s ease; }
    .custom-select.open .custom-select__caret { transform: rotate(180deg); }

    .custom-select__options {
      position: absolute;
      top: calc(100% + 8px);
      left: 0;
      right: 0;
      background: #ffffff;
      color: #000;
      border-radius: 10px;
      max-height: 240px;
      overflow: auto;
      box-shadow: 0 12px 30px rgba(0,0,0,0.22);
      z-index: 20000;
      padding: 8px;
      display: none;
    }

    .custom-select.open .custom-select__options { display: block; }

    .custom-select__option {
      padding: 10px 12px;
      border-radius: 8px;
      cursor: pointer;
      transition: background .12s ease, transform .06s ease;
      user-select: none;
    }

    .custom-select__option:hover,
    .custom-select__option[aria-selected="true"] {
      background: #f2f2f7;
      color: #000;
      transform: translateY(-2px);
    }

    /* smaller on mobile */
    @media (max-width: 700px) {
      .custom-select { max-width: 100%; }
      .custom-select__options { max-height: 200px; }
    }
  </style>
  <style>
    /* Desktop / larger-than-phone overrides - keeps original CSS intact */
    @media (min-width: 700px) {
      .container {
        max-width: 1100px; /* limit extreme stretching on big monitors */
        padding: 40px;
        display: grid;
        grid-template-columns: 1fr 1.1fr;
        gap: 32px;
        align-items: start;
        text-align: left;
      }

      .container > h1 {
        font-size: 48px;
        margin: 0 0 6px 0;
      }

      .message {
        font-size: 20px;
        margin: 0 0 12px 0;
      }

      /* Make primary controls a little more compact and desktop-friendly */
      button {
        font-size: 18px;
        padding: 12px 28px;
      }

      /* Keep the letter hidden until triggered but make it more spacious when visible */
      .letter {
        font-size: 20px;
        max-height: 520px;
        margin-top: 0; /* grid spacing handles separation */
        padding: 18px;
        border-radius: 10px;
        background: rgba(255,255,255,0.03);
        line-height: 1.6;
      }

      /* Map layout areas: title+cta in left column, letter on the right */
      .container > h1, .container > .message, .container > #mainButton { grid-column: 1 / 2; }
      .letter, .signature, .surprise { grid-column: 2 / 3; }

      .signature {
        font-size: 18px;
        text-align: right;
      }

      .surprise { font-size: 16px; padding: 10px 20px; }

      /* larger profile on wider screens */
      #dobScreen .profile { width: 160px; height: 160px; margin-bottom: 22px; }

      /* Final message sizing */
      #finalMessage { font-size: 28px; padding: 30px; }
    }
  </style>
  <style>
    /* Polished input and button styles for the DOB screen (responsive) */
    :root { --input-bg: rgba(255,255,255,0.06); }

    /* Base: full-width friendly on small screens */
    #dobScreen select {
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
      background-color: var(--input-bg);
      color: white;
      border: 1px solid rgba(255,255,255,0.18);
      padding: 12px 14px;
      border-radius: 12px;
      min-width: 80px;
      width: 100%;
      box-sizing: border-box;
      box-shadow: inset 0 -6px 12px rgba(0,0,0,0.15);
      transition: border-color .15s ease, box-shadow .15s ease, transform .06s ease;
      font-size: 16px;
      margin: 6px 0;
    }

    /* Displayed select text (placeholder) should be white; dropdown options black */
    #dobScreen select { color: white; }
    #dobScreen option { color: black; background: #ffffff; }

    #dobScreen select:focus {
      outline: none;
      border-color: var(--main-color);
      box-shadow: 0 0 0 6px rgba(127,90,240,0.08);
      transform: translateY(-2px);
    }

    /* Unlock button on DOB screen */
    #dobScreen button {
      background: linear-gradient(90deg, var(--main-color), #5a3df0);
      border: none;
      color: #fff;
      padding: 12px 20px;
      border-radius: 12px;
      font-size: 18px;
      font-weight: 600;
      box-shadow: 0 10px 30px rgba(90,58,240,0.18);
      cursor: pointer;
      margin-top: 8px;
      width: 100%;
      transition: transform .12s ease, box-shadow .12s ease, opacity .12s ease;
    }

    #dobScreen button:hover { transform: translateY(-3px); }
    #dobScreen button:active { transform: translateY(0); }
    #dobScreen button:focus { outline: none; box-shadow: 0 0 0 6px rgba(127,90,240,0.08); }

    /* Desktop: place selects inline and limit width */
    @media (min-width: 700px) {
      #dobScreen { padding: 28px; }
      #dobScreen select { width: auto; display: inline-block; margin: 0 8px 8px 0; min-width: 120px; }
      #dobScreen button { width: auto; padding: 12px 28px; margin-top: 12px; }
      #dobScreen p { font-size: 18px; }
    }
    /* Custom caret, hover and option hover styles for professional dropdowns */
    #dobScreen select {
      background-image: linear-gradient(45deg, rgba(255,255,255,0.95) 50%, transparent 50%),
                        linear-gradient(135deg, transparent 50%, rgba(255,255,255,0.95) 50%);
      background-position: calc(100% - 18px) calc(50% - 3px), calc(100% - 13px) calc(50% - 3px);
      background-size: 7px 7px, 7px 7px;
      background-repeat: no-repeat;
      padding-right: 44px;
      transition: box-shadow .12s ease, transform .08s ease, border-color .12s ease;
    }

    #dobScreen select:hover {
      transform: translateY(-2px);
      box-shadow: 0 12px 30px rgba(0,0,0,0.18);
      border-color: rgba(255,255,255,0.28);
    }

    /* Hide native dropdown arrow in IE/Edge */
    #dobScreen select::-ms-expand { display: none; }

    /* Option styling (browser support varies; provides fallback look where supported) */
    #dobScreen option { color: black; background: #ffffff; }
    #dobScreen option:hover { background: #f2f2f6; color: black; }

    /* DOB screen title - hide on larger screens */

    @media (min-width: 700px) {
      .dob-title { display: none; }
    }

  </style>
</head>
<body>
    
 <div id="dobScreen" style="text-align:center; color:white; margin-top:30vh;">
  <div class="profile" aria-hidden="true"></div>
  <h1 class="dob-title">King Arthur & Queen Shammy Chronicles</h1>
  <p style="font-size:4vw;">Enter Special date to unlock the letter:</p>
  <select id="day" style="font-size:4vw; padding:1vw;">
    <option value="">Day</option>
    <!-- Days 1-31 -->
    <script>
      for(let d=1; d<=31; d++){
        document.write('<option value="'+d+'">'+d+'</option>');
      }
    </script>
  </select>

  <select id="month" style="font-size:4vw; padding:1vw;">
    <option value="">Month</option>
    <option value="1">Jan</option>
    <option value="2">Feb</option>
    <option value="3">Mar</option>
    <option value="4">Apr</option>
    <option value="5">May</option>
    <option value="6">Jun</option>
    <option value="7">Jul</option>
    <option value="8">Aug</option>
    <option value="9">Sep</option>
    <option value="10">Oct</option>
    <option value="11">Nov</option>
    <option value="12">Dec</option>
  </select>

  <select id="year" style="font-size:4vw; padding:1vw;">
    <option value="">Year</option>
    <!-- Years from 2025 to 2000 -->
    <script>
      for(let y=2025; y>=2000; y--){
        document.write('<option value="'+y+'">'+y+'</option>');
      }
    </script>
  </select>

  <br><br>
  <button onclick="checkDOB()" style="font-size:4vw; padding:1vw 2vw;">Unlock</button>
</div>
    
  <div class="container" id="card">
    <div class="card-profile" aria-hidden="true"></div>
    <h1>My Muse, Shammy.</h1><h1>King Arthur & Queen Shammy Chronicles</h1>
    <p class="message">A note woven from the galaxy of my heart...</p>
    <button id="mainButton" onclick="startExperience()">Queen</button>
    <div class="letter" id="letter"></div>
    <p class="signature" id="signature">Eternally yours, king Arthur.</p>
    <button id="surpriseButton" class="surprise" onclick="triggerSurprise()">Tap Here</button>
  </div>

 <div id="finalMessage">
  <p>My little bunny üêá, u are the sparkle that turns my world into magic ‚ú®, the moonlight that dances through my nights üåô, the heartbeat I feel even when we‚Äôre apart üíñ; every glance, every laugh of urs makes my soul leap and my heart know, without a doubt, that in ur arms I‚Äôve found my universe and my forever home üí´.</p>
</div>


  <audio id="unlockMusic" preload="auto">
    <source src="play.mpeg" type="audio/mpeg">
  </audio>

  <script>

    const letter = `My Queen, Shammy ü§ç
From the first day u walked into my lyf,
my heart started seeing the future differently.
Not loud‚Ä¶ not rushed‚Ä¶
just clear.
When I imagine peace... I see ur smile.
When I imagine home, I feel ur presence.
U are the calm after every storm in me.
There are moments I look at u and feel it deep in my chest
that pull, that heat... that certainty.
Like my soul already knows where it belongs,
even before my mouth finds the words.
All that part sounds soft n playful, I know‚Ä¶
but let me be real wth u now.
I won‚Äôt lie‚Ä¶ I know I haven‚Äôt always treated u right.
Sometimes when I‚Äôm mad, I talk anyhow.
Sometimes I annoy u, sometimes I hurt u without meaning to and am sorry for those moments
Not coz I‚Äôm weak,but coz u matter.
I‚Äôm not perfect, I mess up coz i‚Äôm human, just like any other person
But even in my flaws, my heart has always chosen u.
There are days we argue, voices rise, silence follows n the world feels heavy between us.
But even in those moments, I never stopped wanting u... I never thought of abundoning u... I only thought of holding u tighter just not knowing how.
This time, I want u to know something clearly:
I‚Äôm here, I‚Äôm staying, I‚Äôm not going anywhere, nt today not tomorrow n not after another argument.
I‚Äôm choosing u even when it‚Äôs hard most especially when it‚Äôs hard.
And now let me say what my heart has been whispering for a long time‚Ä¶
I don‚Äôt just love u, I crave ur presence, I feel strongest when I‚Äôm urs, I feel complete when u CHOOSE me back,
I see my future in u, I see forever in us.
I want to marry u.
Not someday in poetry or stories,
but one day in real lyf.
Always urs,
King Arthur`;

function checkDOB() {
  const day = document.getElementById("day").value;
  const month = document.getElementById("month").value;
  const year = document.getElementById("year").value;

  const correctDOB = { day: "20", month: "3", year: "2024" }; // your DOB

  if(day === correctDOB.day && month === correctDOB.month && year === correctDOB.year) {
    document.getElementById("dobScreen").style.display = "none";
    document.getElementById("card").style.display = "block";
    // Play the unlock song
    const audio = document.getElementById("unlockMusic");
    audio.play().catch(err => console.log("Audio play failed:", err));
  } else {
    alert("Wrong date! Try again.");
  }
}

// Hide the letter container until correct DOB is entered
document.getElementById("card").style.display = "none";

    function startExperience() {
      const button = document.getElementById('mainButton');
      button.textContent = 'Opening in 3...';
      let count = 2;
      const interval = setInterval(() => {
        button.textContent = `Opening in ${count--}...`;
        if (count < 0) {
          clearInterval(interval);
          showLetter();
        }
      }, 1000);
    }

    function showLetter() {
      const letterBox = 
      document.getElementById('letter')
      ;
      const signature = document.getElementById('signature');
      const surpriseButton = document.getElementById('surpriseButton');
      const button = document.getElementById('mainButton');

      button.textContent = 'For the one my heart chose';
      letterBox.style.display = 'block';
      document.getElementById('card').classList.add('letter-open');
      let i = 0;
      const type = setInterval(() => {
        if (i < letter.length) {
          letterBox.textContent += letter[i++];
          letterBox.scrollTop = letterBox.scrollHeight;
        } else {
          clearInterval(type);
          signature.style.opacity = 1;
          surpriseButton.style.display = 'block';
        }
      }, 75);
    }

    function triggerSurprise() {
      document.getElementById('card').style.opacity = 0;
      setTimeout(() => {
        document.getElementById('card').style.display = 'none';
        document.getElementById('finalMessage').style.display = 'flex';
                // show the double-tap hint and attach terminate listener
        const final = document.getElementById('finalMessage');
        const hint = document.getElementById('doubleTapHint');
        if(hint) hint.style.display = 'block';
        attachDoubleTapTerminate(final);
      }, 1500);
    }
    }
  </script>

  <script>
    // Custom dropdown component: replaces visual selects with styled dropdowns
    (function(){
      function createCustom(select){
        const wrapper = document.createElement('div');
        wrapper.className = 'custom-select';
        const trigger = document.createElement('button');
        trigger.type = 'button';
        trigger.className = 'custom-select__trigger';
        const value = document.createElement('span');
        value.className = 'custom-select__value';
        const caret = document.createElement('span');
        caret.className = 'custom-select__caret';
        caret.innerHTML = '<svg viewBox="0 0 20 20" width="12" height="12"><path d="M5 7l5 6 5-6" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round"/></svg>';
        trigger.appendChild(value);
        trigger.appendChild(caret);

        const options = document.createElement('div');
        options.className = 'custom-select__options';

        // Build option items from original select
        Array.from(select.options).forEach(opt => {
          const item = document.createElement('div');
          item.className = 'custom-select__option';
          item.tabIndex = 0;
          item.textContent = opt.textContent;
          item.dataset.value = opt.value;
          if(opt.disabled) item.setAttribute('aria-disabled','true');
          if(opt.selected) item.setAttribute('aria-selected','true');
          options.appendChild(item);
        });

        wrapper.appendChild(trigger);
        wrapper.appendChild(options);

        // hide original select but keep it in DOM for form/value
        select.style.position = 'absolute';
        select.style.left = '-9999px';
        select.tabIndex = -1;
        select.parentNode.insertBefore(wrapper, select.nextSibling);

        // Initialize displayed value
        const selectedOpt = select.options[select.selectedIndex];
        value.textContent = selectedOpt ? selectedOpt.textContent : select.options[0].textContent;

        // Handlers
        function closeAll(){ document.querySelectorAll('.custom-select.open').forEach(s=>s.classList.remove('open')); }

        trigger.addEventListener('click', (e)=>{
          e.stopPropagation();
          const open = wrapper.classList.toggle('open');
          if(open){
            // focus first selected or first option
            const sel = options.querySelector('[aria-selected="true"]') || options.firstElementChild;
            sel && sel.focus();
          }
        });

        options.addEventListener('click', (e)=>{
          const opt = e.target.closest('.custom-select__option');
          if(!opt) return;
          select.value = opt.dataset.value;
          // update original select's change event
          select.dispatchEvent(new Event('change', { bubbles: true }));
          // update UI
          options.querySelectorAll('.custom-select__option').forEach(x=>x.removeAttribute('aria-selected'));
          opt.setAttribute('aria-selected','true');
          value.textContent = opt.textContent;
          wrapper.classList.remove('open');
        });

        // keyboard support inside options
        options.addEventListener('keydown', (e)=>{
          const focused = document.activeElement;
          if(!focused || !focused.classList.contains('custom-select__option')) return;
          if(e.key === 'ArrowDown'){ e.preventDefault(); (focused.nextElementSibling || focused).focus(); }
          if(e.key === 'ArrowUp'){ e.preventDefault(); (focused.previousElementSibling || focused).focus(); }
          if(e.key === 'Enter' || e.key === ' '){ e.preventDefault(); focused.click(); }
          if(e.key === 'Escape'){ wrapper.classList.remove('open'); trigger.focus(); }
        });

        // close on outside click
        document.addEventListener('click', ()=> wrapper.classList.remove('open'));

        return wrapper;
      }

      document.addEventListener('DOMContentLoaded', ()=>{
        const selects = Array.from(document.querySelectorAll('#dobScreen select'));
        selects.forEach(s => createCustom(s));
      });
    })();
  </script>
</body>
</html>
